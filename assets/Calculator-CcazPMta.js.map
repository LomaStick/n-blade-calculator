{"version":3,"file":"Calculator-CcazPMta.js","sources":["../../src/components/Calculator/Characteristics/Characteristics.tsx","../../src/components/Calculator/Calculator.tsx"],"sourcesContent":["const Characteristics = () => {\r\n  return (\r\n    <div className=\"characteristics\">\r\n      <h2 className=\"characteristics__title\">Характеристики персонажа</h2>\r\n      <div className=\"characteristics__stats\">\r\n        <div className=\"characteristics-stat\">\r\n          <span className=\"characteristics-stat__label\">Уровень:</span>\r\n          <span className=\"characteristics-stat__value\">1</span>\r\n        </div>\r\n        <div className=\"characteristics-stat\">\r\n          <span className=\"characteristics-stat__label\">Здоровье:</span>\r\n          <span className=\"characteristics-stat__value\">100</span>\r\n        </div>\r\n        <div className=\"characteristics-stat\">\r\n          <span className=\"characteristics-stat__label\">Атака:</span>\r\n          <span className=\"characteristics-stat__value\">10</span>\r\n        </div>\r\n        <div className=\"characteristics-stat\">\r\n          <span className=\"characteristics-stat__label\">Защита:</span>\r\n          <span className=\"characteristics-stat__value\">5</span>\r\n        </div>\r\n        <div className=\"characteristics-stat\">\r\n          <span className=\"characteristics-stat__label\">Стихия:</span>\r\n          <span className=\"characteristics-stat__value\">Пиро</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Characteristics;","import { memo, useCallback, useMemo } from \"react\";\nimport {  useLocation } from \"react-router-dom\";\nimport { useAppDispatch, useAppSelector } from \"@store/hooks/\";\nimport { setCurrentClass } from \"@store/slices/currentClassSlice\";\nimport { assets } from \"@utils/assetsProxy\";\nimport { Talents } from \"@components/Calculator/Talents\";\nimport { Characteristics } from \"@components/Calculator/Characteristics\";\nimport { CharacterClass } from \"../../types\";\nimport './Calculator.scss'\n\nconst Calculator = memo(() => {\n  const dispatch = useAppDispatch();\n  const currentClass = useAppSelector((state) => state.currentClass);\n  // const navigate = useNavigate();\n  const location = useLocation();\n\n  // Мемоизация текущей вкладки\n  const currentTab = useMemo(() => \n    location.pathname.includes('characteristics') ? 'characteristics' : 'talents',\n    [location.pathname]\n  );\n\n  // Обработчики с useCallback\n  // const handleTabChange = useCallback((tab: 'characteristics' | 'talents') => {\n  //   navigate(`/calculator/${tab}`, { replace: true });\n  // }, [navigate]);\n\n  const handleClassChange = useCallback((cls: CharacterClass) => {\n    dispatch(setCurrentClass(cls));\n  }, [dispatch]);\n\n  // Мемоизация списка классов\n  const classList = useMemo(() => Object.values(CharacterClass), []);\n\n  return (\n    <div \n      className=\"calculator\" \n      style={{ backgroundImage: `url(${assets.interface._background})` }}\n    >\n      <div className=\"calculator__header\">\n        <div className=\"class-selector\" role=\"group\" aria-label=\"Character class selection\">\n          {classList.map((cls) => (\n            <ClassButton\n              key={cls}\n              cls={cls}\n              currentClass={currentClass}\n              onChange={handleClassChange}\n            />\n          ))}\n        </div>\n        \n        {/* <TabNavigation \n          currentTab={currentTab}\n          onChange={handleTabChange}\n        /> */}\n      </div>\n      \n      <main className=\"calculator__content\">\n        {currentTab === 'characteristics' ? <Characteristics /> : <Talents />}\n      </main>\n    </div>\n  );\n});\n\n// Вынесенные компоненты для оптимизации\nconst ClassButton = memo(({ \n  cls, \n  currentClass, \n  onChange \n}: { \n  cls: CharacterClass; \n  currentClass: CharacterClass; \n  onChange: (cls: CharacterClass) => void \n}) => (\n  <button\n    className={`class-button ${currentClass === cls ? 'class-button_active' : ''}`}\n    onClick={() => onChange(cls)}\n    aria-label={`Select ${cls} class`}\n    aria-pressed={currentClass === cls}\n\t\tstyle={{position: 'relative'}}\n  >\n    <img \n      src={assets.interface.classesIcons[`_${cls}`]}\n      alt=\"\" \n      loading=\"lazy\"\n      decoding=\"async\"\n    />\n\t\t{!(currentClass === cls) && <img className=\"class-button_filter-lock\" src={assets.calculator.talents.interface.skillsStatus._lockFilter}/>}\n  </button>\n));\n\nconst TabNavigation = memo(({ \n  currentTab, \n  onChange \n}: { \n  currentTab: string; \n  onChange: (tab: 'characteristics' | 'talents') => void \n}) => (\n  <nav className=\"tabs-navigation\" aria-label=\"Calculator sections\">\n    <TabButton\n      tab=\"characteristics\"\n      currentTab={currentTab}\n      onChange={onChange}\n      label=\"Характеристики\"\n    />\n    <TabButton\n      tab=\"talents\"\n      currentTab={currentTab}\n      onChange={onChange}\n      label=\"Таланты\"\n    />\n  </nav>\n));\n\nconst TabButton = memo(({ \n  tab, \n  currentTab, \n  onChange, \n  label \n}: { \n  tab: string; \n  currentTab: string; \n  onChange: (tab: 'characteristics' | 'talents') => void; \n  label: string \n}) => (\n  <button \n    className={`tab-button ${currentTab === tab ? 'active' : ''}`}\n    onClick={() => onChange(tab as 'characteristics' | 'talents')}\n    aria-current={currentTab === tab ? 'page' : undefined}\n  >\n    {label}\n  </button>\n));\n\nCalculator.displayName = 'Calculator';\nClassButton.displayName = 'ClassButton';\nTabNavigation.displayName = 'TabNavigation';\nTabButton.displayName = 'TabButton';\n\nexport default Calculator;"],"names":["Characteristics","jsxs","className","children","jsx","Calculator","memo","dispatch","useAppDispatch","currentClass","useAppSelector","state","location","useLocation","currentTab","useMemo","pathname","includes","handleClassChange","useCallback","cls","setCurrentClass","classList","Object","values","CharacterClass","jsxRuntimeExports","style","backgroundImage","assets","interface","_background","role","map","ClassButton","onChange","Talents","onClick","position","src","classesIcons","alt","loading","decoding","calculator","talents","skillsStatus","_lockFilter","TabNavigation","TabButton","tab","label","displayName"],"mappings":"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"}