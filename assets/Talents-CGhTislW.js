import{a as s,b as e,r as a,R as n,j as t,c as i,d as l,T as c,e as r,f as o,i as d,g as m,h as p,S as u}from"./index-DwipWp9E.js";const _=s,b=e,h=(s="")=>new Proxy({},{get(e,a){if("string"!=typeof a)return"";const n=s?`${s}/${a}`:a;if(a.startsWith("_")){const e=a.slice(1);return`/n-blade-calculator/src/assets/${s}/${e}.png`}return h(n)}}),j=h(),x={warrior:{b1:{name:"Стойкость",description:"Увеличивает запас здоровья 1%, сопротивление критическому урону на 0.75% и шанс блока 0.5%.",skills:{s1:{name:"Сомкнуть Ряды",description:"Увеличивает радиус действия ауры «Сомкнуть ряды» на 5 метров и добавляет к ауре прибавку к сопротивлению критическому урону на 800."},s2:{name:"Защитная Стойка",description:"Умение дополнительно повышает маг/физ броню на 10%, парирование, уклонение, сопротивление магии, блок на 5%, сопротивление критическому урону на 7.5%, а количество зарядов на 2."},s3:{name:"Метнуть Оружие",description:"Попадание увеличивает желание монстров атаковать именно воина и обездвиживает противника на 2 секунды."},s4:{name:"Второе Дыхание",description:"Увеличивает максимальный запас здоровья на 30%, сопротивление критическому урону на 5000, а также исцеляет воина на 30% от максимального запаса здоровья. Умение можно применять, находясь под воздействием безмолвия."}}},b2:{name:"Проворство",description:"Увеличивает точность 0.5%, уклонения и скорость атаки 1%.",skills:{s1:{name:"Сокрушительный Удар",description:"Длительность оглушения увеличена на 1 сек."},s2:{name:"Рывок",description:"Получает невосприимчивость к обездвиживанию на время действия способности, а также ускорение увеличивается дополнительно на 10%."},s3:{name:"Вертушка",description:"Воин начинает вращаться, нанося урон всем рядом стоящим противникам. При применении этого умения воин снимает с себя 2 негативных эффекта."},s4:{name:"Превосходство",description:"При применении воин на некоторое время снижает у всех противников поблизости скорость передвижения на 20% и скорость атаки на 1750. За каждого поражённого умением противника скорость передвижения увеличивается на 10%, а скорость атаки на 575 - максимум 5 зарядов усиления, также за каждую поражённую цель воин исцеляется, а его успешные атаки под действием Превосходства исцеляют его, но не чаще 1 раза в 0.5 сек, отраженные атаки (срабатывание у врага парирования, блока, сопротивление магии, уклонения), исцеляют воина лишь с шансом 25%."}}},b3:{name:"Ярость",description:"Увеличен шанс критического урона 0.75%, сила атаки на 0.5% и сопротивление магии на 1%.",skills:{s1:{name:"Берсерк",description:"Затраты маны на умение снижаются на 10%, а перезарядка на 5 сек."},s2:{name:"Сотрясти Землю",description:"Увеличивает радиус действия на 2.5м вокруг каждой поражённой цели, урон умения на 10% и эффект замедления на 15%."},s3:{name:"Боевой клич",description:"На 15 сек. снижает силу атаки всех противников и увеличивает силу атаки союзников вокруг в радиусе 10 метров вокруг воина. Негативный и положительный эффекты умения также распространяются на все цели в радиусе 8 метров от поражённых целей. Умение накладывает на противников эффект безмолвия на 3.5 cек., и снимает с воина негативные эффекты в количеству равному поражённым негативным эффектом целям."},s4:{name:"Адреналин",description:"Получает периодическое исцеление, а атаки противников восстанавливают ему здоровье. При срабатывании восстановления здоровья от атак противников, воин наносит урон вокруг себя в радиусе 7.5-м и замедляет поражённые цели на 25% на 2 сек. Под действием умения воин получает 30% сопротивления замедлению. Длительность эффекта 12 сек."}}}},thief:{b1:{name:"Приемы",description:"Повышает точность персонажа на 0.5%, сопротивляемость магии на 0.75% и сопротивлени критическому урону на 0.75% за каждый вложенный талант.",skills:{s1:{name:"Град Ударов",description:"Количество ударов в серии увеличивается до трех."},s2:{name:"Спутать Карты",description:"Скорость разбойника повышается на 10-30% (в зависимости от количества противников поблизости при применении) на время действия способности. Перезарядка снижается на 4 секунды."},s3:{name:"Быстрые Ноги",description:"В течение 10 сек. разбойник двигается на 40% быстрее, а его уклонение увеличивается на 12%."},s4:{name:"Поднять Ставки",description:"При применении повышается показатель критического урона на 45%, появляется 45% шанс применить умения без затрат маны и 15% шанс проигнорировать защиту целей (уклонение, парирование, блок, сопротивление) - длительность эффекта 12 сек, дополнительно при использовании умения Разбойник без затрат маны и ухода на перезарядку использует умение Быстрые Ноги. Использование умения сбрасывает перезарядку всех умений ветки (Быстрые ноги, Спутать карты, Град ударов)."}}},b2:{name:"Уловки",description:"Повышает запас энергии персонажа на 0.75%, уклонение на 1% и показатель критического урона на 0.5% за каждый вложенный талант.",skills:{s1:{name:"Шипы",description:"Длительность замедления увеличивается на 3 секунды."},s2:{name:"Иссушающая Атака",description:"Понижает силу атаки противника дополнительно на 7.5%."},s3:{name:"Дымовая Шашка",description:"Едкий дым наносит урон и в течение 3.5 секунд не дает применять способности, а также замедляет всех противников, попавших в зону поражения, на 15%. Умение имеет 50% шанс проигнорировать защиту."},s4:{name:"Удавка",description:"Разбойник атакует всех противников в конусе перед собой, атака наносит цели мгновенный урон и прерывает применение умений, а также в течение 10 сек. противник будет получать периодический урон и терять ману, восстанавливая её разбойнику. Умение игнорирует защиту цели, а также накладывает на разбойника эффект Стремительная Расправа - скорость передвижения увеличивается на 40% на 10 сек."}}},b3:{name:"Удары",description:"Повышает силу атаки разбойника на 0.75%, парирование на 0.5% и шанс критического удара на 0.5% за каждый вложенный талант.",skills:{s1:{name:"Подстроенный Удар",description:"Сопротивление крит урону цели дополнительно понижается на 1400."},s2:{name:"Коварный Порез",description:"Перезарядка снижается на 5 секунд, шанс срабатывания негативного эффекта повышается до 100%. Способность начинает игнорировать парирование цели."},s3:{name:"Парализующий Яд",description:"Разбойник смазывает свое оружие ядом на 25 сек, который при атаках может на некоторое время вызывать у жертвы мышечный паралич, оглушая её на 1.25 сек. Паралич срабатывает не чаще 1 раза в 4 сек. Можно использовать в комбинации со Смертельным Ядом."},s4:{name:"Зияющая Рана",description:"Разбойник оставляет на теле всех врагов в конусе перед собой кровоточащие порезы на 10 сек, которые наносят большой периодический урон. Дальность поражения умения 6 метров. Умение с шансом 50% игнорирует парирование цели. Если цель парировала умение, разбойник восстановит 100% от затраченной на умение маны."}}}},archer:{b1:{name:"Охотник",description:"Увеличивает здоровье лучника на 0.75%, скорость атаки 0.5%, сопротивление критическому урону 0.75% за каждое вложенное очко.",skills:{s1:{name:"Тактическое Отступление",description:"Применение усиленной способности снимает с лучника 3 негативных эффекта."},s2:{name:"Сковывающий Выстрел",description:"Усиленная талантом способность оглушает цель."},s3:{name:"Ослепляющая Стрела",description:"Стрела взрывается яркой вспышкой света, нанося цели небольшой магический урон и снижая её показатель точности на 90% на 4 сек. Умение игнорирует уклонение цели."},s4:{name:"Жажда Крови",description:"Лучник стреляет во всех противников перед собой заколдованными стрелами, которые при попадании наносят им урон и восстанавливают здоровье лучнику в размере 50% от нанесённого урона - умение игнорирует уклонение цели. Также лучнику становится доступно аналогичное умение по одиночной цели, которое восстанавливает здоровье в размере 17.5% от максимального запаса (35% при критическом срабатывании), а также похищает у цели 22.5% базового сопротивления критическому урону (не учитываются прибавки от гильдейских усилений, эликсиров и так далее) на 12 сек. Умения имеют общую перезарядку."}}},b2:{name:"Стрелок",description:"Увеличивает силу атаки, точность и регенерацию энергии лучника на 0.5% за каждое вложенное очко таланта.",skills:{s1:{name:"Выстрел на Вскидку",description:"Лишает возможности применять умения в течении 1.5 секунды, но перезарядка умения увеличивается на 5 сек."},s2:{name:"Веерная Стрельба",description:"Усиленная талантом способность с 20% шансом не потратит энергии."},s3:{name:"Дождь из Стрел",description:"Лучник выпускает в небо огромное количество стрел которые спустя 3 секунды обрушиваются на его противников в указанной области. Каждое попадание наносит урон и замедляет цели на 30% на 3 сек."},s4:{name:"Расплавляющие Стрелы",description:"Под действием этой способности в течение 14 сек. атаки лучника снижают физическую броню цели на 7%, а также наносят периодический урон - негативный эффект суммируется до 5 раз и длится 10 сек."}}},b3:{name:"Снайпер",description:"Увеличивает точность лучника на 0.75%, запас энергии и уклонение на 0.5% за каждое вложенное очко таланта.",skills:{s1:{name:"Ловушка",description:"Талант увеличивает радиус поражения на 1 метр, сокращает перезарядку на 5 секунд и уменьшает стоимость в мане на 15%."},s2:{name:"Аура Точности",description:"Помимо точности аура начинает увеличивать ещё и шанс критического урона на аналогичное точности значение."},s3:{name:"Взрывная Стрела",description:"Лучник выпускает в цель стрелу со взрывчаткой которая взрывается через 4 секунды после попадания и наносит урон всем противникам в радиусе 4-м. Взрыв игнорирует сопротивление магии целей."},s4:{name:"Уязвимые места",description:"Успешные атаки будут наносить дополнительный урон и замедлять цель на 20% на 3 сек, также под действием эффекта умения повышается шанс лучника проигнорировать защиты цели (уклонение, сопротивление магии, блок) на 12.5%."}}}},priest:{b1:{name:"Опека",description:"Жрец в своем служении опирается на покровительство богов и дарит это покровительство своим соратникам. Увеличивает запас здоровья на 0.75%, маны на 0.75% и сопротивление критическому урону на 0.75%. Позволяет вложить максимум 24 очка таланта.",skills:{s1:{name:"Щит богов",description:'Превращает заклинание "божественный щит в ауру, действующую и на других игроков'},s2:{name:"Молитва",description:"Получает возможность увеличить силу атаки жреца и его союзников на 12-80 (в зависимости от уровня жреца) за каждого противника в радиусе 7.5м от жреца. Максимум 15 зарядов дополнительного усиления"},s3:{name:"Кольцо веры",description:'Жрец получает заклинание "Кольцо Веры". Жрец освящает землю в указанной точке. В течение 4-5 секунд (в зависимости от уровня жреца) все дружественные персонажи, попавшие под действие заклинания, игнорируют вражеские атаки. Умение срабатывает на одну и ту же цель не чаще 1 раза в 20 секунд.'},s4:{name:"Перевоплощение",description:'Жрец получает заклинание "Перевоплощение", которое увеличивает показатели физ/маг брони на 6000-28000, силы атаки на 1000-4500 и здоровья на 3000-15000 на 20 секунд. В этом состоянии атаки жреца провоцируют монстров атаковать его.'}}},b2:{name:"Отмщение",description:"Исполенный праведного гнева жрец имеет увеличенный запас энергии 0.5%, силы атаки на 0.75% и шанса критического урона на 0.75% за одно вложенное очко таланта. Позволяет вложить максимум 24 очка таланта.",skills:{s1:{name:"Правосудие",description:'Заклинание "Правосудие" получает способность давать жрецу и его спутникам невосприимчивость к эффектам обездвиживания на 5 сек'},s2:{name:"Кара",description:'Заклинание "Кара" получает способность оглушать противников на 2.5 сек., а так же снижать их магическую броню на 33% на это же время.'},s3:{name:"Благословение",description:'Аура "Благословение" даёт жрецу и его союзникам в радиусе 25м положительный эффект, под действием которого, успешные атаки на 7 сек. увеличивает скорость перемещения на 3-5% и скорость атаки на 50-360 единиц за каждый заряд эффекта. Эффект суммируется до 5 раз.'},s4:{name:"Возмездие",description:"Жрец обездвиживает цель на 4 сек, а так же на 10-16 сек. получает положительный эффект, увеличивающий атакующие характеристики на 10% и позволяющий его атакам обездвиживать цель на 1.5сек.(обездвиживание от атак срабатывает не чаще одного раза в 3.5 сек.) Дальность действия 25м. Игнорирует защиту цели (сопротивление магии). Умение наносит урон только в PVE."}}},b3:{name:"Вера",description:"Укрепленный в вере жрец получает повышение показателя блока на 0.5%, сопротивление магии на 1% и сопротивление критическому урону на 0.5% за каждое вложенное очко талантов. Позволяет вложить максимум 24 очка таланта.",skills:{s1:{name:"Божественное Сияние",description:"Заклинание Божественное Сияние исцеляет дополнительно на 20% от нанесенного им урона, а так же частота срабатывания увеличивается на 20%"},s2:{name:"Небесный Свет",description:"Небесный свет получает способность усиливать дружественным игрокам магическую броню на 750-10000 (в зависимости от уровня) и рассеивать с них еще 1 негативный эффект."},s3:{name:"Восстановление",description:'Жрец получает ауру "Восстановление". Аура повышает скорость регенерации энергии у жреца и дружественных персонажей на 195-1440 в зависимости от уровня жреца, а так же повышает максимальный запас здоровья на 7%'},s4:{name:"Воскрешение",description:"Жрец воскрешает своего саратника, находящегося на расстоянии не более 7.5м. Длительность применения 3.3сек. Один и тот же персонаж может быть воскрешён не чаще 1 раза в 80 сек."}}}},mage:{b1:{name:"Лед",description:"Повышает физическую броню на 1.25%, сопротивление критическому урону на 0.75%, а так же точность на 0.5% за каждый вложенный талант.",skills:{s1:{name:"Морозные Доспехи",description:"Замедление усиливается дополнительно на 10%, а его длительность увеличивается на 1 сек."},s2:{name:"Ледяная Тюрьма",description:"Маг получает возможность использовать заклинание Ледяная Тюрьма на себя (после окончания заморозки на маге не будет эффекта замедления, длительность заморозки - 4 секунды)."},s3:{name:"Ледяные Осколки",description:"Волна поражает противников в радиусе 7.5 метров, при попадании противники замедляются на 4%, а маг ускоряется на 4% на 8 сек. Оба эффекта складываются до 6 раз. Умение имеет 30% шанс проигнорировать уклонение цели."},s4:{name:"Полярный Холод",description:"На 4 секунды маг замедляет всех окружающих противников, после окончания замедления противники получают урон и оглушаются на 4 секунды."}}},b2:{name:"Пламя",description:"Увеличивает силу атаки на 0.75%, повышает шанс критического урона на 0.75% и запас его здоровья на 0.5% за каждый вложенный талант.",skills:{s1:{name:"Воспламенение",description:"Умение получает способность поджигать противников в радиусе 3 метров от цели."},s2:{name:"Огненный Шар",description:"Заклинание «Огненный Шар» получает способность на 7 сек. поджигать противников, а его зона поражения увеличена на 2 метра."},s3:{name:"Испепеление",description:"Волшебник копит внутренний огонь и выпускает его в выбранную цель, нанося урон ей и окружающим её противникам в радиусе 4 метров. Пораженные умением враги теряют 33% магической брони на 10 сек. Умение игнорирует сопротивление магии целей."},s4:{name:"Пылающий Метеорит",description:"Маг призывает с небес раскаленную каменную глыбу, которая приземляется спустя 3 сек. и при ударе о землю наносит огромный урон всем врагам в радиусе 5 метров, оглушает их на 4 секунды. При падении метеорит также замедляет все цели в радиусе 10 метров на 33% на 4 сек, эффект замедления игнорирует сопротивление магии цели."}}},b3:{name:"Энергия",description:"Увеличивает критический урон на 0.75%, запас маны на 0.5% и уклонение на 0.75% за каждый вложенный талант.",skills:{s1:{name:"Удар Молнии",description:"Заклинание «Удар Молнии» оглушает цель вместо обездвиживания."},s2:{name:"Энергетическая Волна",description:"Увеличивает количество энергии, сжигаемой заклинанием «Энергетическая волна» на 20%. Заклинание получает способность снижать сопротивление магии противников на 20% на 8 сек."},s3:{name:"Магическая Ловушка",description:"Маг получает заклинание «Магическая ловушка». Маг ставит на землю ловушку, которая взрывается при попадании в неё противников, лишая возможности применять способности на 4 секунды."},s4:{name:"Запредельный разряд",description:"Маг выпускает мощный разряд, поражающий цель и противников в радиусе 6 метров вокруг неё. Обездвиживает противников и не имеют возможности использовать умения в течении 4 сек, а также их сила атаки снижена на 50% на 7 сек."}}}}},v=n.memo((({content:s,children:e,position:n="default"})=>{const[i,l]=a.useState(!1),c=a.useRef(null),r=a.useRef(null),o=a.useCallback((()=>l(!0)),[]),d=a.useCallback((()=>l(!1)),[]),m=a.cloneElement(e,{ref:c,onMouseEnter:o,onMouseLeave:d,onTouchStart:o,onTouchEnd:d});return t.jsxs("div",{className:"tooltip-container",children:[m,i&&t.jsx("div",{ref:r,className:`tooltip tooltip_${n}`,id:"tooltip-content",role:"tooltip",children:s})]})})),k=a.memo((()=>{const s=_(),e=b(i),{branchesState:n,availablePoints:h}=b((s=>({branchesState:s.talents[e].talents.branches,availablePoints:s.talents[e].talents.availablePoints})),l),k=a.useRef(null),{updateScale:N}=(({baseWidth:s,targetRef:e,cssVarName:n})=>{const t=()=>{if(!e.current||0===e.current.clientWidth)return;const a=e.current.clientWidth/s;document.documentElement.style.setProperty(n,a.toString())};return a.useEffect((()=>{const s=setTimeout(t,250),a=new ResizeObserver(t);return e.current&&a.observe(e.current),()=>{clearTimeout(s),a.disconnect()}}),[s,e,n]),{updateScale:t}})({baseWidth:329,targetRef:k,cssVarName:"--branch-scale"}),f=a.useMemo((()=>h!==c),[h]),g=a.useMemo((()=>s=>{var e;return h>0&&(null==(e=n[s])?void 0:e.level)<r}),[h,n]),$=a.useCallback((s=>{const e=n[s];return e?e.level+Object.values(e.skills).reduce(((s,e)=>s+(e.level||0)),0):0}),[n]),C=a.useCallback((()=>{s(o(e))}),[e,s]),S=a.useCallback((a=>{g(a)&&s(d({currentClass:e,branchId:a}))}),[g,e,s]),y=a.useCallback(((a,n)=>{h>0&&s(m({currentClass:e,branchId:a,skillId:n}))}),[h,e,s]),w=a.useCallback((a=>{s(p({currentClass:e,branchId:a}))}),[e,s]),P=a.useCallback((s=>Array.from({length:r}).map(((e,a)=>{const n=(a+1)%5==0?"Big":"Small",i=a<s?"Active":"";return t.jsx("img",{className:`level-indicator__item_${n}`,alt:"",src:j.calculator.talents.interface.talents[`_talentPoint${n}${i}`],loading:"lazy"},`${n}-${i}-${a}`)}))),[]),R=a.useCallback(((s,a)=>Object.entries(s).map((([s,i])=>{var l;const c=s,r=null==(l=n[a])?void 0:l.skills[c];if(!r)return null;const o=5*parseInt(c.replace("s","")),d=r.status===u.LOCK,m=r.status===u.OPEN;return t.jsx("div",{className:"skill__item-wrapper",children:t.jsxs("div",{className:"skill__item",children:[t.jsx(v,{content:t.jsxs("div",{className:"tooltip__wrapper",children:[t.jsx("h4",{className:"tooltip__title",children:i.name}),t.jsx("p",{className:"tooltip__description",children:i.description}),t.jsxs("span",{className:`tooltip__skill-status tooltip__skill-status_${r.status}`,children:[t.jsx("img",{src:j.calculator.talents.interface.skillsStatus[`_${r.status}Status`],alt:""}),d&&t.jsxs("span",{children:["Требуется уровень: ",o]}),m&&t.jsx("span",{children:"Нажмите для изучения"}),!d&&!m&&t.jsx("span",{children:"Изучено"})]})]}),position:`skillIcon${a}${c}`,children:t.jsx("div",{className:"skill__button-container",children:t.jsxs("button",{className:"skill__button",onClick:()=>m&&y(a,c),disabled:!m,"aria-label":`Upgrade ${i.name}`,children:[t.jsx("img",{className:"skill__icon",src:j.calculator.talents.skillsIcons[e][`_${a}${c}`],alt:""}),t.jsxs("div",{className:"button__overlay",children:[t.jsx("img",{className:"button__overlay_status",src:j.calculator.talents.interface.skillsStatus[`_${r.status}Status`],alt:""}),t.jsx("img",{className:"button__overlay_filter",src:j.calculator.talents.interface.skillsStatus[`_${r.status}Filter`],alt:""})]})]})})}),t.jsx("span",{className:"skill__name",children:i.name})]})},c)}))),[n,e,y]),T=a.useCallback((s=>t.jsx("div",{className:"skill__points-counter",children:t.jsx("span",{className:"skill__points-current",children:$(s)})},`points-${s}`)),[$]);return t.jsxs("div",{className:"talents",children:[t.jsxs("div",{className:"talents__control-panel",children:[t.jsxs("div",{className:"talents__points",children:["Осталось очков: ",h,"/",c]}),t.jsxs("button",{className:"talents__button_reset",onClick:C,disabled:!f,"aria-label":"Reset all talents",children:[t.jsx("img",{src:j.interface.buttons[f?"_buttonBrown":"_buttonUnactive"],alt:"",draggable:!1}),t.jsx("span",{children:"Сбросить все"})]})]}),t.jsx("div",{className:"talents__branches",children:Object.entries(x[e]).map((([s,e])=>{const a=s,i=n[a];return i&&e?t.jsx("div",{className:"talent-branch",children:t.jsxs("div",{className:"talent-branch__container",children:[t.jsxs("div",{className:"talent-branch__header",children:[t.jsx("img",{src:j.calculator.talents.interface.branch._headerBranch,alt:"",loading:"lazy"}),t.jsx("div",{className:"talent-branch__header_wrapper",children:t.jsx(v,{content:t.jsxs("div",{className:"tooltip__wrapper",children:[t.jsx("p",{className:"tooltip__title",children:e.name}),t.jsx("p",{className:"tooltip__description",children:e.description})]}),position:`branchName${a}`,children:t.jsx("span",{className:"talent-branch__header-name",children:e.name})})})]}),t.jsx("img",{className:"talent-branch__background",ref:k,src:j.calculator.talents.interface.branch._background,alt:"",onLoad:N,loading:"lazy"}),t.jsxs("div",{className:"talent-branch__content",children:[t.jsxs("div",{className:"talent-branch__left-panel",children:[t.jsx("div",{className:"level-indicator__list",children:P(i.level)}),t.jsx("button",{className:"level-indicator__level-up",onClick:()=>S(a),disabled:!g(a),"aria-label":"Increase branch level",children:t.jsx("img",{src:j.calculator.talents.interface.talents["_plus"+(g(a)?"Active":"")],alt:""})})]}),t.jsxs("div",{className:"talent-branch__right-panel",children:[t.jsx("div",{className:"skill__list",children:R(e.skills,a)}),T(a)]})]}),t.jsx("div",{className:"talent-branch__footer",children:t.jsxs("button",{className:"talents__button_reset",onClick:()=>w(a),disabled:i.level<=0,"aria-label":`Reset ${e.name} branch`,children:[t.jsx("img",{src:j.interface.buttons[i.level<=0?"_buttonUnactive":"_buttonBrown"],alt:""}),t.jsx("span",{children:"Сбросить"})]})})]})},a):null}))})]})}));k.displayName="TalentsTab";const N=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));export{k as T,b as a,j as b,N as c,_ as u};
//# sourceMappingURL=Talents-CGhTislW.js.map
